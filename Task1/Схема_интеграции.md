# Схема интеграции приложений банка "Стандарт"

## Участники и системы:

**Пользователи:**
- Клиент
- Сотрудник отделения (фронт-офис)
- Бэк-офис депозитов
- Бэк-офис кредитов
- Оператор кол-центра
- Партнёрский кол-центр

**Системы:**
- Интернет-банк
- Сайт
- АБС
- Система кол-центра
- Система партнёрского кол-центра
- Кредитный конвейер
- Скоринг
- БКИ (внешняя)
- СМС-шлюз
- Телеком-оператор (внешний)

---

## Интеграции:

### 1. Интернет-банк ↔ АБС
- **Тип:** Прямая интеграция с БД
- **Данные:** Платежи, текущие счета, баланс
- **Частота:** Онлайн

### 2. Сайт → (будущая интеграция)
- **Текущее состояние:** Только маркетинг, нет интеграций

### 3. АБС ↔ Кредитный конвейер
- **Тип:** Интеграция по БД
- **Данные:** Кредитные заявки
- **Частота:** Раз в день

### 4. Кредитный конвейер → Скоринг
- **Тип:** REST API
- **Данные:** Данные клиента для оценки
- **Частота:** Онлайн (при обработке заявки)

### 5. Скоринг → БКИ
- **Тип:** REST API (внешняя)
- **Данные:** Кредитная история
- **Частота:** Онлайн

### 6. Скоринг ← АБС
- **Тип:** Передача данных из БД
- **Данные:** Данные клиентов, платежи
- **Частота:** Раз в сутки

### 7. АБС → СМС-шлюз → Телеком-оператор
- **Тип:** API
- **Данные:** СМС-уведомления
- **Частота:** Онлайн

### 8. Система кол-центра ↔ АБС
- **Тип:** Интеграция
- **Данные:** Обращения, заявки
- **Частота:** Онлайн

### 9. Email-коммуникации (ручные):
- Отдел кредитов → Бэк-офис депозитов (Excel, ставки)
- Бэк-офис депозитов ↔ Бэк-офис кредитов (специальные ставки)
- Фронт-офис ↔ Бэк-офисы (согласование ставок)

---

## Диаграмма потоков данных:

### Процесс депозита:

```
Клиент (отделение)
    ↓
Сотрудник фронт-офиса
    ↓
АБС ← Excel (ставки) ← Email ← Бэк-офис кредитов
    ↓
Бэк-офис депозитов (согласование ставки)
    ↓
АБС (создание депозита)
    ↓
СМС-шлюз → Телеком-оператор → Клиент (СМС)
```

### Процесс кредита:

```
Клиент (отделение)
    ↓
Сотрудник фронт-офиса
    ↓
АБС (создание заявки)
    ↓ (раз в день, БД)
Кредитный конвейер
    ↓
Бэк-офис кредитов (обработка)
    ↓ (REST API)
Скоринг
    ├→ БКИ (REST API, онлайн)
    ├← АБС (данные, раз в сутки)
    └← Кредитный конвейер (номера платежей)
    ↓
Кредитный конвейер (решение)
    ↓ (раз в день, БД)
АБС (зачисление средств)
```

### Процесс через кол-центр:

```
Клиент (звонок)
    ↓
Оператор кол-центра
    ↓
Система кол-центра
    ↓
АБС (создание обращения)
    ↓
Бэк-офис (обработка)
    ↓
АБС → СМС-шлюз → Клиент (уведомление)
```

---

## Ключевые бизнес-сущности в интеграциях:

- **Клиент** - идентификация, данные
- **Счёт** - номер, баланс, тип
- **Депозит** - сумма, ставка, срок
- **Кредит** - сумма, ставка, срок, скоринг
- **Заявка** - статус, данные клиента
- **Ставка** - значение, дата, тип продукта
- **Платёж** - сумма, дата, назначение
- **Обращение** - тип, статус, описание
- **СМС** - номер, текст, статус доставки
